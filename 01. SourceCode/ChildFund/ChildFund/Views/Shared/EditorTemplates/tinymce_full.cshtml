<script type="text/javascript">
    if (typeof tinymce === 'undefined') {
        document.write('<script src="@Url.Content("~/Scripts/tinymce/tinymce.js")" type="text/javascript"><\/script>');
    }
</script>
<script type="text/javascript">
    var roxyFileman = '/fileman/index.html?integration=tinymce4';
    (function () {
        tinymce.init({
            mode: "exact",
            elements: "@ViewData.TemplateInfo.GetFullHtmlFieldId(string.Empty)",
            theme: "modern",
            height: 150,
            width: 1000,
            plugins: [
                "advlist autolink lists link image charmap print preview anchor",
                "searchreplace visualblocks code fullscreen",
                "insertdatetime media table contextmenu paste textcolor colorpicker"
            ],
            toolbar: " | bold italic forecolor " +
                     " | alignleft aligncenter alignright alignjustify " +
                     " | bullist numlist outdent indent " +
            " | link image ",
            file_browser_callback: RoxyFileBrowser,
            menubar: false,
            statusbar: false,
            setup:
       function (ed) {
           ed.on('init', function () {
               this.getDoc().body.style.fontSize = '14px';
           });
       }
        });
    })();


    function RoxyFileBrowser(field_name, url, type, win) {
        var cmsURL = roxyFileman;  // script URL - use an absolute path!
        if (cmsURL.indexOf("?") < 0) {
            cmsURL = cmsURL + "?type=" + type;
        }
        else {
            cmsURL = cmsURL + "&type=" + type;
        }
        cmsURL += '&input=' + field_name + '&value=' + win.document.getElementById(field_name).value;
        tinyMCE.activeEditor.windowManager.open({
            file: cmsURL,
            title: 'Roxy File Browser',
            width: 850, // Your dimensions may differ - toy around with them!
            height: 650,
            resizable: "yes",
            plugins: "media",
            inline: "yes", // This parameter only has an effect if you use the inlinepopups plugin!
            close_previous: "no"
        }, {
            window: win,
            input: field_name
        });
        return false;
    }
</script>
@Html.TextArea(string.Empty, ViewData.TemplateInfo.FormattedModelValue)