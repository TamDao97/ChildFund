@model IList<InformationHub.Model.Model.Document.DocumentLibrarySearchResult>
@{ string uploadDate = ""; string type = ViewBag.Type; }
<div style="overflow-x:auto">
    <table class="table table-bordered table-hover" style="min-width:1300px">
        <thead>
            <tr>
                <th width="50px" class="text-center">@InformationHub.Resource.Resource.Index_Title</th>
                <th width="100px" class="text-center">@InformationHub.Resource.Resource.Funtion_Title</th>
                <th width="200px">@InformationHub.Resource.Resource.Document_Group</th>
                <th width="280px">@InformationHub.Resource.Resource.Document_Name</th>
                <th>@InformationHub.Resource.Resource.Label_Description</th>
                <th>@InformationHub.Resource.Resource.Label_Size</th>
                <th width="100px">@InformationHub.Resource.Resource.Label_Upload_Date</th>
                <th width="180px">@InformationHub.Resource.Resource.Document_Upload_By</th>
                <th width="120px">@InformationHub.Resource.Resource.Label_Status</th>

            </tr>
        </thead>
        <tbody>
            @{ int index = ViewBag.Index; string content = "";}
            @if (Model != null && Model.Count > 0)
            {
                foreach (var item in Model)
                {
                    content = NTS.Common.Utils.Common.FormatContentNews(item.Description, 110);
                    index++;
                    uploadDate = "";
                    if (item.UploadDate != null)
                    {
                        uploadDate = item.UploadDate.ToString("dd/MM/yyyy");
                    }
            <tr>
                <td class="text-center">@index</td>
                <td align="center">
                    @if (type == "0" || type == "1" || type == "2")
                    {
                        if (InformationHub.Common.LoginCommon.CheckPermission("C0023"))
                        {
                            <a href="/Document/UpdateDocument/@item.Id" class="btn btn-xs btnfuntion" title="@InformationHub.Resource.Resource.Document_Update"><i class="material-icons btnicon" style="color:orange">edit</i></a>
                        }
                        if (InformationHub.Common.LoginCommon.CheckPermission("C0024"))
                        {
                            <button onclick="DeleteConfim('@item.Id')" type="button" class="btn btn-xs btnfuntion" title="@InformationHub.Resource.Resource.Document_Delete"><i class="material-icons btnicon" style="color:red">delete</i></button>
                        }
                    }
                    @if (InformationHub.Common.LoginCommon.CheckPermission("C0025"))
                    {
                        <button onclick="DownloadFile('@item.Id')" class="btn btn-xs btnfuntion" title="@InformationHub.Resource.Resource.Label_Download"><i class="material-icons btnicon">file_download</i></button>
                    }
                </td>
                <td>@item.DocumentTypeidView</td>
                <td>@item.Name</td>
                <td>@content</td>
                <td>@(item.Size/1000) (Kb)</td>
                <td>@uploadDate</td>
                <td>@item.UploadBy</td>
                <td>
                    @if (item.IsDisplay == true)
                    {<span>@InformationHub.Resource.Resource.Label_Display</span> }
                else
                { <span>@InformationHub.Resource.Resource.Label_Not_Display</span>}
                </td>

            </tr>
                }
            }
    </table>
    <a href="#" id="linkDowload"></a>
</div>
<div class="pagerbottom margin-top-10">
    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
        <div class="form-group">
            <div class="controls">
                <select class="form-control combobox-padding" onchange="ChangeSize()" id="pageSize">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="30">30</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                </select>
                <span>@InformationHub.Resource.Resource.NumberPage_Title</span>
            </div>
        </div>
    </div>
    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-6">
        @Html.Raw(ViewBag.pages)
    </div>
</div>
<script>
    $('#count_data').html(@ViewBag.TotalItem);
    $('#pageSize').val(@ViewBag.PageSize);
</script>
