@model ChildProfiles.Model.ObjectBaseModel
@{
    ChildProfiles.Model.ObjectInputModel objectInputModel = null;
    var learningCapacityModel = (ChildProfiles.Model.ObjectBaseModel)ViewBag.learningCapacityModel;
    int numberCenter = Model.ListObject.Count / 2;
    if ((Model.ListObject.Count % 2) != 0)
    {
        numberCenter = numberCenter + 1;
        objectInputModel = new ChildProfiles.Model.ObjectInputModel();
    }
    var dateRow1 = Model.ListObject.Skip(0).Take(numberCenter).ToList();
    var dateRow2 = Model.ListObject.Skip(numberCenter).Take(numberCenter).ToList();
    if (objectInputModel != null)
    {
        dateRow2.Add(objectInputModel);
    }
    var dateRow3 = learningCapacityModel.ListObject;
    string check1, check2, check3;
}
<div class="margin-bottom-10">
    <textarea hidden id="hidfavouriteSubjectModel">@(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model))</textarea>
    <textarea hidden id="hidlearningCapacityModel">@(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(learningCapacityModel))</textarea>
    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
        <div class="row">
            <table class="table table-bordered table-hover" id="tbfavouriteSubjectModel">
                <thead>
                    <tr>
                        <th colspan="4">2.6. Các môn học mà trẻ thích nhất (Có thể chọn1 hoặc nhiều môn)/Child’s favourite subject (more than one option is acceptable)</th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < dateRow1.Count; i++)
                    {
                        check1 = dateRow1[i].Check ? "checked" : "";
                        check2 = dateRow2[i].Check ? "checked" : "";
                        <tr style="border-left:white">
                            <td width="20">
                                <label class="icheck icheck-primary">
                                    <input type="checkbox" name="Subject" @check1 value="@dateRow1[i].Id">
                                    <i></i>
                                </label>
                            </td>
                            <td>@dateRow1[i].Id  @dateRow1[i].Name</td>
                            <td width="20">
                                @if (!string.IsNullOrEmpty(dateRow2[i].Name))
                                {
                                    <label class="icheck icheck-primary">
                                        <input type="checkbox" name="Subject" @check2 value="@dateRow2[i].Id">
                                        <i></i>
                                    </label>
                                }

                            </td>
                            <td>@dateRow2[i].Id  @dateRow2[i].Name </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="4" height="74">
                            <span>@Model.OtherName</span> <input type="text" id="OtherSubject" value="@Model.OtherValue" class="form-control">
                            @*<span>@Model.OtherName2</span><input type="text" id="BestSubject" value="@Model.OtherValue2" class="form-control">*@
                        </td>

                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
        <div class="row">
            <table class="table table-bordered table-hover" id="tblearningCapacityModel">
                <thead>
                    <tr>
                        <th colspan="2">2.7. Lực học của trẻ/Child’s learning performance (dành cho trẻ học tiểu học trở lên)</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in dateRow3)
                    {
                        check3 = item.Check ? "checked" : "";
                        <tr style="border-left:white">
                            <td width="20">
                                <label class="icheck icheck-primary">
                                    <input name="Capacity" value="@item.Id" @check3 type="checkbox" onclick="ChangeCheckbox(@item.Id,'#tblearningCapacityModel','Capacity')">
                                    <i></i>
                                </label>
                            </td>
                            <td>
                                @item.Id  @item.Name
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>

                        <td colspan="2" height="74">
                            <span>@learningCapacityModel.OtherName</span> <input type="text" id="learningCapacityOther" value="@learningCapacityModel.OtherValue" class="form-control">
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>
